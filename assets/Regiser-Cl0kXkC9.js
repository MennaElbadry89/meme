import{r as o,a as f,u as j,j as s}from"./index-CgxueZb7.js";import{o as b,s as r,u as g,a as v}from"./zod-coCr5VZi.js";const u=b({firstName:r().min(2,{message:"firstName is req"}),lastName:r().min(2,{message:"lastName is req"}),email:r().min(2,{message:"email is req"}).email({message:"This email is invalid"}),phone:r().min(1,{message:"phone is req"}).regex(/^01[0-25][0-9]{8}$/,{message:"This number is invalid"}),password:r().min(5,{message:"passwared must be 5 characters with 1 or more spetial characters"}).regex(/.*[!@#$%^&*()_+{}|[\]\\:";'<>?,./].*/,{message:"U should enter correct pass"}),confirmedpassword:r().min(5,{message:"passwared must be 5 characters with 1 or more spetial characters"}).regex(/.*[!@#$%^&*()_+{}|[\]\\:";'<>?,./].*/,{message:"U should enter correct pass"})}).refine(i=>i.password===i.confirmedpassword,{message:"passward must be matched ",path:"confirmedpassword"});function F(){const{registerHandler:i,isLoading:l}=o.useContext(f),d=j(),[m,n]=o.useState(null),{register:a,handleSubmit:c,formState:{errors:e,isDirty:h,isValid:p}}=g({resolver:v(u),mode:"all"}),x=async N=>{const t=await i(N);t.success?d("/profile"):n(t.message)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"auth container",children:[s.jsxs("p",{className:"text-center my-5 h1",children:[s.jsx("span",{style:{color:"var(--secondry-color)"},children:"Regiser "}),"Now"]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-8 offset-2",children:s.jsxs("form",{onSubmit:c(x),className:"my-2 mx-3 border border-2 rounded ",children:[s.jsx("p",{className:"h3 text-center my-2",style:{color:"var(--secondry-color)"},children:"Register"}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),s.jsx("input",{className:`form-control ${e.firstName?"is invalid ":""}`,...a("firstName"),type:"text",id:"firstName"}),e.firstName&&s.jsxs("div",{className:"invalid-feedback",children:[e.firstName?.message," "]})]}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),s.jsx("input",{className:`form-control ${e.lastName?"is invalid ":""}`,...a("lastName"),type:"text",id:"lastName"}),e.lastName&&s.jsxs("div",{className:"invalid-feedback",children:[e.lastName?.message," "]})]}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"Email",className:"form-label",children:"E-mail"}),s.jsx("input",{className:`form-control ${e.email?"is invalid ":""}`,...a("email"),type:"email",id:"Email"}),e.email&&s.jsxs("div",{className:"invalid-feedback",children:[e.email?.message," "]})]}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),s.jsx("input",{className:`form-control ${e.phone?"is invalid ":""}`,...a("phone"),type:"number",id:"phone"}),e.phone&&s.jsxs("div",{className:"invalid-feedback",children:[e.phone?.message," "]})]}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),s.jsx("input",{className:`form-control ${e.password?"is invalid ":""}`,...a("password"),type:"password",id:"password"}),e.password&&s.jsxs("div",{className:"invalid-feedback",children:[e.password?.message," "]})]}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"confirmedpassword",className:"form-label",children:"Confirmed-Password"}),s.jsx("input",{className:`form-control ${e.confirmedpassword?"is invalid ":""}`,...a("confirmedpassword"),type:"password",id:"confirmedpassword"}),e.confirmedpassword&&s.jsxs("div",{className:"invalid-feedback",children:[e.confirmedpassword?.message," "]})]}),m&&s.jsx("div",{className:"alert alert-danger",children:m}),s.jsx("button",{disabled:!h||!p||l,type:"submit",className:"btn btn-info mx-3 mt-2",children:l?s.jsxs("div",{children:[s.jsx("div",{className:"spinner border text-light ",style:{width:"15px",height:"15px"}}),s.jsx("span",{className:"ms-2 ",children:"Loading"})]}):"Submit"})]})})})]})})}export{F as default};
