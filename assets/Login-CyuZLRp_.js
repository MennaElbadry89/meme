import{r as o,a as g,u as j,j as s}from"./index-N2P_tYHz.js";import{o as b,s as t,u as v,a as N}from"./zod-CHky2CeB.js";const f=b({email:t().min(2,{message:"email is req"}).email({message:"This email is invalid"}),password:t().min(5,{message:"passwared must be 5 characters with 1 or more spetial characters"}).regex(/.*[!@#$%^&*()_+{}|[\]\\:";'<>?,./].*/,{message:"U should enter correct pass"})});function L(){const{loginHandler:n,isLoading:a}=o.useContext(g),m=j(),[r,c]=o.useState(null),{register:i,handleSubmit:d,formState:{errors:e,isDirty:x,isValid:h}}=v({resolver:N(f),mode:"all"}),p=async u=>{const l=await n(u);l.success?m("/profile"):c(l.message)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"auth container mb-5",children:[s.jsxs("p",{className:"text-center my-5 h1",children:[s.jsx("span",{style:{color:"var(--secondry-color)"},children:"Login "}),"Now"]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-8 offset-2",children:s.jsxs("form",{onSubmit:d(p),className:"my-2 mx-3 border border-2 rounded ",children:[s.jsx("p",{className:"h3 text-center my-2",style:{color:"var(--secondry-color)"},children:"Login"}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"Email",className:"form-label",children:"E-mail"}),s.jsx("input",{className:`form-control ${e.email?"is invalid ":""}`,...i("email"),type:"email",id:"Email"}),e.email&&s.jsxs("div",{className:"invalid-feedback",children:[e.email?.message," "]})]}),s.jsxs("div",{className:"mx-3 my-2",children:[s.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),s.jsx("input",{className:`form-control ${e.password?"is invalid ":""}`,...i("password"),type:"password",id:"password"}),e.password&&s.jsxs("div",{className:"invalid-feedback",children:[e.password?.message," "]})]}),r&&s.jsx("div",{className:"alert alert-danger",children:r}),s.jsx("button",{disabled:!x||!h||a,type:"submit",className:"btn btn-info mx-3 m-2",children:a?s.jsxs("div",{children:[s.jsx("div",{className:"spinner border text-light ",style:{width:"15px",height:"15px"}}),s.jsx("span",{className:"ms-2 ",children:"Loading"})]}):"Submit"})]})})})]})})}export{L as default};
